function getUrlVars(){var e={},t=window.location.href.replace(/[?&]+([^=&]+)=([^&]*)/gi,function(t,n,r){e[n]=r});return e}function updateMason(){$("#pics").imagesLoaded(function(){$("#pics").masonry("reload");$(".amount_of_pics").html($("#pics").find(".picture").length);$("a#more").show()})}function detectThumbnail(e,t){if(e=="i.imgur.com"){var n=t.lastIndexOf("."),r=t.substr(0,n)+"l",i=t.substr(n);picThumbnail=r+i}else if(e.search("minus.com")!=-1){var n=t.lastIndexOf("."),r=t.substr(0,n)+"_e",i=t.substr(n);picThumbnail=r+i}else picThumbnail=t;return picThumbnail}function addPicsToDOM(e){$("body").attr("data-after",e.data.after);$.each(e.data.children,function(e,t){if(t.data.is_self===!1&&t.data.thumbnail!="")if(t.data.url.search("jpg")!=-1||t.data.url.search("png")!=-1||t.data.url.search("jpeg")!=-1){var n=detectThumbnail(t.data.domain,t.data.url);$("section#pics").append('<a href="'+t.data.url+'" class="picture" target="_blank"><img src="'+n+'"></a>')}});updateMason()}function getRedditPics(e,t,n){$.getJSON("http://www.reddit.com/r/"+e+".json?limit="+t+"&after="+n+"&jsonp=?",function(e){addPicsToDOM(e)})}function morePics(){$("a#more").hide();getRedditPics($("body").attr("data-reddits"),20,$("body").attr("data-after"))};